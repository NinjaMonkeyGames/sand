name: Staging Deployment

on:
  workflow_call:
    # This enables the "call" from your CI Controller

jobs:
  deploy-dev:
    name: Execute Staging Build
    runs-on: ubuntu-latest
    # This links the job to a GitHub Environment for tracking
    environment: staging

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      - name: Staging Simulation
        run: |
          echo "-------------------------------------------------------"
          echo "ðŸš€ STARTING STAGING DEPLOYMENT"
          echo "-------------------------------------------------------"
          echo "Target Environment: Staging"
          echo "Triggered by: ${{ github.actor }}"
          echo "Status: In Progress..."
          
          # Simulate work
          sleep 2
          
          echo "âœ… Staging deployment marked as COMPLETE."
          echo "-------------------------------------------------------"

      - name: Final Success Message
        run: echo "The staging workflow has finished successfully."